# 工厂模式

## 一、简单工厂模式

### 描述

##### 1）简单工厂模式是属于创建型模式，又叫做静态工厂方法模式，但不属于23种GOF设计模式之一。

##### 2）简单工厂模式中专门定义一个简单工厂类来负责创建其他类的实例，被创建的实例通常都具有共同的父类。

##### 3）简单工厂类根据传入的参数，动态决定应该实例哪一个类。这样做能把客户类和具体子类的实现解耦，客户类不再需要知道有哪些子类以及应当实例化哪个子类。

### 优点

##### 1）对象的创建和对象本身业务分离，降低系统的耦合度。

##### 2）客户类不需要知道所创建的具体产品类的类名以及创建过程，只需要知道具体产品类所对应的参数即可。

##### 3）简单工厂可以动态实例对象，灵活性高。

### 缺点

##### 1）不符合开闭原则，每次添加新对象就需要修改工厂类的判断逻辑。

##### 2）在产品类型较多时，有可能造成工厂逻辑过于复杂，不利于系统的扩展维护，并且工厂类集中了所有产品创建逻辑，一旦不能正常工作，整个系统都要受到影响。

## 二、工厂方法模式

### 描述

##### 1）工厂方法模式又称为工厂模式，也叫多态工厂模式，它属于类创建型模式。

##### 2）工厂方法模式，定义一个用于创建对象的接口，让子类决定实例化哪一个类。工厂方法使一个类的实例化延迟到其子类。

### 优点

##### 1）符合开闭原则，扩展时不必去修改原来的代码。

##### 2）符合单⼀职责原则，每个⼯⼚只负责⽣产对应的产品。

##### 3）一个调用者想创建一个对象，只要知道其名称就可以了。

##### 4）典型的解耦框架。高层模块只需要知道产品的抽象类，无须关心其他实现类，满足迪米特法则、依赖倒置原则和里氏替换原则。

### 缺点

##### 1）每加一个产品，都需要加一个具体类和对象实现工厂，使得系统中类的个数成倍增加，在一定程度上增加了系统的复杂度，同时也增加了系统具体类的依赖。

##### 2）抽象产品只能生产一种产品。

## 三、抽象工厂模式

### 描述

##### 1）抽象工厂模式又称为Kit模式，属于对象创建型模式。

##### 2）抽象工厂模式：提供一个接口，用于创建一系列相关或相互依赖对象的家族，而无需指定它们具体的类。

##### 3）产品族和产品等级

##### ①产品族：在抽象工厂模式中，产品族是指由同一个工厂生产的，位于不同产品等级结构中的一组产品，如比亚迪生产电动车、燃油车和混动车，则比亚迪电动车位于电动车产品族中。

##### ②产品等级：产品等级结构指的是产品的继承结构，如一个抽象类是电动车，其子类有比亚迪电动车、五菱电动车、长安电动车等一系列的子类，则抽象类汽车和他的具体品牌子类就构成了一个产品等级结构。

### 优点

##### 1）易于交换产品系列，只需要改变具体工厂即可使用不同的产品配置。

##### 2）让具体的创建实例过程与客户端分离，客户端是通过它们的抽象接口操纵实例，产品的具体类名也被具体工厂的实现分离。

##### 3）当一个产品族中的多个对象被设计成一起工作时，它能够保证客户端始终只使用同一个产品族中的对象。

##### 4）符合开闭原则，增加新的具体工厂和产品族很方便，无须修改已有系统。

### 缺点

##### 1）开闭原则的倾斜性（增加新的工厂和产品族容易，增加新的产品等级结构麻烦）。